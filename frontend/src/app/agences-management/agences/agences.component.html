<div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div *ngIf="!isEditForm && isAdmin" class="col-6">
                <div class="card">
                    <div class="card-header card-header-success">
                        <h4 class="card-title">Ajouter une agence</h4>
                    </div>
                    <div class="card-body">
                        <form #newAgenceForm="ngForm" (ngSubmit)="onSubmitAdd(newAgenceForm,newAgence)">
                            <div class="row">
                                <div class="col-md-6">
                                    <mat-form-field class="example-full-width">
                                        <input matInput placeholder="Nom" [(ngModel)]="newAgence.nom" name="nom"
                                            required>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-6">
                                    <mat-form-field class="example-full-width">
                                        <input matInput placeholder="Num.téléphone"
                                            [(ngModel)]="newAgence.telephone" name="telephone" required>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <mat-form-field class="example-full-width">
                                        <input matInput placeholder="Adresse" [(ngModel)]="newAgence.adresse"
                                            name="adresse" required>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <mat-form-field class="example-full-width">
                                        <input [(ngModel)]="newAgence.latitude"
                                        name="latitude" matInput placeholder="Latitude" type="text" readonly >
                                    </mat-form-field>
                                </div>
                                <div class="col-md-6">
                                    <mat-form-field class="example-full-width">
                                        <input [(ngModel)]="newAgence.longitude"
                                        name="longitude" matInput placeholder="Longitude
                                        " type="text" readonly>
                                    </mat-form-field>
                                </div>
                            </div>
                            <button mat-raised-button type="submit"  [disabled]="!newAgenceForm.valid" class="btn btn-success pull-right">Valider</button>
                            <button (click)="isEditForm = false" mat-raised-button type="button"
                                class="btn btn-success pull-right">Annuler</button>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div>





            <div *ngIf="isEditForm && isAdmin" class="col-6">
                <div class="card">
                    <div class="card-header card-header-success">
                        <h4 class="card-title">Modifer {{selectedAgence.nom}}</h4>
                    </div>
                    <div class="card-body">
                        <form #editForm="ngForm" (ngSubmit)="onSubmitEdit()">
                            <div class="row">
                                <div class="col-md-6">
                                    <mat-form-field class="example-full-width">
                                        <input matInput placeholder="Nom" [(ngModel)]="selectedAgence.nom" name="nom"
                                            required>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-6">
                                    <mat-form-field class="example-full-width">
                                        <input matInput placeholder="Num.téléphone"
                                            [(ngModel)]="selectedAgence.telephone" name="telephone" required>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <mat-form-field class="example-full-width">
                                        <input matInput placeholder="Adresse" [(ngModel)]="selectedAgence.adresse"
                                            name="adresse" required>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <mat-form-field class="example-full-width">
                                        <input [(ngModel)]="selectedAgence.latitude"
                                        name="latitude" matInput placeholder="Latitude" type="text">
                                    </mat-form-field>
                                </div>
                                <div class="col-md-6">
                                    <mat-form-field class="example-full-width">
                                        <input [(ngModel)]="selectedAgence.longitude"
                                        name="longitude" matInput placeholder="Longitude
                                        " type="text">
                                    </mat-form-field>
                                </div>
                            </div>
                            <button mat-raised-button type="submit"  [disabled]="!editForm.valid" class="btn btn-success pull-right">Valider</button>
                            <button (click)="isEditForm = false" mat-raised-button type="button"
                                class="btn btn-success pull-right">Annuler</button>
                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div>

            <div [ngClass]="!isAdmin ? 'col-12' : 'col-6'">
                <div id="map"
                [ngStyle]="!isAdmin ? {'height': '500px', 'position': 'relative', 'overflow': 'hidden', 'margin-top': '13px', 'border-radius': '10px'} : {'height': '150%', 'position': 'relative', 'overflow': 'hidden', 'margin-top': '13px', 'border-radius': '10px'}">
                </div>
            </div>
        </div>
    </div>
</div>